{% extends "base.html" %}

{% load staticfiles %}

{% block content %}
  <p id="demo"></p>

  <script>
    var TD = window.location.href.split("/")
    var ID = TD[TD.length-1]
    document.getElementById("demo").innerHTML = "ID#:<br>" + ID;
  </script>

  <!-- <script src="https://d3js.org/d3.v5.min.js"></script> -->

  <!-- <script type="text/javascript"charset="utf-8">
      d3.text("/EEE67VUIG7" + ID + "/data.csv", function(data) {
          var parsedCSV = d3.csv.parseRows(data);

          for (row in parsedCSV){
            console.error(row);
          }
      });
  </script> -->

  <!-- https://codepen.io/creotip/pen/iLsIq -->
  <!-- <script id="loadsub" type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.6.0/jquery.min.js"></script>
    <script type="text/javascript">
    $(function(){
        $('#sample').click(function(){ 
            if(!$('#iframe').length) {
                    $('#iframeHolder').html('<iframe id="iframe" src="//player.vimeo.com/video/90429499" width="700" height="450"></iframe>');
            }
        });   
    });
  </script> -->


  <a href="" onclick = "location.href=this.href +'/Sample';return false;"><img id = "sampleimage" src="{% static 'img/green.jpg' %}") width="82" height="86" alt="Box"></a>
  <a href="" onclick = "location.href=this.href +'/LC';return false;"><img id = "lcimage" src="{% static 'img/green.jpg' %}" width="82" height="86" alt="Box"></a>
  <a href="" onclick = "location.href=this.href +'/Source';return false;"><img id = "sourceimage" src="{% static 'img/green.jpg' %}" width="82" height="86" alt="Box"></a>
  <a href="" onclick = "location.href=this.href +'/MS1';return false;"><img id = "ms1image" src="{% static 'img/green.jpg' %}" width="82" height="86" alt="Box"></a>
  <a href="" onclick = "location.href=this.href +'/MS2';return false;"><img id = "ms2image" src="{% static 'img/green.jpg' %}" width="82" height="86" alt="Box"></a>

  <!-- <img id = "g1" src="" style="float: right; margin-left: 5px; margin-bottom: 5px;"> -->

  <!-- <div id="iframeHolder"></div> -->

  <script>
    var images = ["green", "orange", "red"];
    var subpages = ["sampleimage", "lcimage", "sourceimage", "ms1image", "ms2image"];
    source = "uploads/" + ID + "/g1.jpg";
    for (subpage in subpages){
      randint = Math.floor(Math.random() * 3);
      image = "img/" + images[randint] + ".jpg";
      sample = "static/" + image;
      console.log(image +":" + subpages[subpage] + ":" + sample);
      document.getElementById(subpages[subpage]).setAttribute("src", sample);
    }


  </script>

  <!-- looking into reading from the report.csv file, but it's actually not a default javascript supported feature -->
  <!-- below is code to attempt to utilize the require.js library. however, Node.js is more recommended (but requires a specialized docker setup to support it) -->
  <!-- will look into it more later, for now the ideal solution is uncertain -->
  <!-- another option appears to be ajax/jquery, in other words javascript calling python code. -->
  <!-- <script data-main="results" src="/require.js"></script>
  <script data-main="scripts/main" src="scripts/require.js"></script>

  <script>
    define(function (require) {
        // Load any app-specific modules
        // with a relative require call,
        // like:
        var messages = require('./messages');

        // Load library/vendor modules using
        // full IDs, like:
        var print = require('print');

        print(messages.getHello());
    });

    sample = "uploads/" + ID + "/report.csv";
    var fs = require("fs");
    fs.readFile(sample, function(text){
        var textByLine = text.split("\n")
    });
  </script> -->
{% endblock %}